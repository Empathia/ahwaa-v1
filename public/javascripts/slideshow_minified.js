$.fn.blockSlider=function(a){return this.each(function(){a=$.extend({auto:true,anim:"carrousel",speed:1000,pause:4000,nav:false,navSelector:"",arrows:true,nxt:".next",bck:".back"},a);var e=$(this);var h=a.anim=="carrousel"?e.parent().parent():e.parent();var d=e.children();var b=d.length;d.filter(":first").addClass("active");var g={start:function(){e.data("id",setInterval(g[a.anim],a.pause))},fade:function(){var i=d.filter(".active:first").index();d.eq(i).fadeOut(a.speed,function(){d.each(function(k){$(this).css("z-index",((b-k)+i)%b)}).removeClass("active").show();var j=++i%b;d.eq(j).addClass("active");f&&f.children().removeClass("active").eq(j).addClass("active")})},arrowsfade:function(i){h.find(a.nxt).click(function(){g.resetFade(1)});h.find(a.bck).click(function(){g.resetFade(-1)})},resetFade:function(j){clearInterval(e.data("id"));var i=d.filter(".active:first").index();d.eq(i).stop(true).css("opacity","1").removeClass("active");d.css("z-index",0).eq((i+j)%b).css("z-index",b+1).addClass("active");d.eq((i+(j>0?2:0))%b).css("z-index",b);g.start();f&&f.children().eq(i).removeClass("active").end().eq((i+j)%b).addClass("active")},navfade:function(){f.children().each(function(j){$(this).click(function(){clearInterval(e.data("id"));d.eq(d.filter(".active:first").index()).stop(true).css("opacity","1").removeClass("active");$(this).addClass("active").siblings(".active").removeClass("active");d.css("z-index",0).eq(j).css("z-index",b+1).addClass("active");d.eq((j+1)%b).css("z-index",b);g.start()})}).eq(0).addClass("active")},carrousel:function(l){var i=d.filter(".active:first").index();var j=!l||(l>0)?(i+1)%b:(i-1<0)?b-1:i-1;var k=j*d.eq(0).outerWidth(true)*-1;e.animate({left:(e.parent().width()>e.outerWidth()+k)?0:k},1000,function(){f&&f.children().eq(i).removeClass("active").end().eq(j).addClass("active");d.eq(i).removeClass("active").end().eq(j).addClass("active")})},resetCarr:function(i){clearInterval(e.data("id"));g.carrousel(i);g.start()},arrowscarrousel:function(){h.find(a.nxt).click(function(){g.resetCarr(1)});h.find(a.bck).click(function(){g.resetCarr(-1)})},navcarrousel:function(){f.children().each(function(j){$(this).click(function(){clearInterval(e.data("id"));g.start()})}).eq(0).addClass("active")},addNav:function(){var l=$('<ul class="nav">');var j="";for(var k=0;k<b;k++){j+="<li></li>"}l.html(j).wrap('<div class="nav-wrapper">').parent().insertAfter(a.anim=="fade"?e:e.parent());return l}};a.auto&&g.start();var f=a.nav?(a.navSelector?h.find(a.navSelector):g.addNav()):false;f&&g["nav"+a.anim]();a.arrows&&g["arrows"+a.anim]();if(a.anim=="carrousel"){var c=0;d.each(function(){c+=$(this).outerWidth(true)});e.width(c)}})};