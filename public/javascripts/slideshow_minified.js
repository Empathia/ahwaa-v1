$.fn.blockSlider=function(a){return this.each(function(){a=$.extend({auto:true,anim:"carrousel",speed:1000,pause:4000,nav:false,navSelector:"",arrows:true,nxt:".next",bck:".back"},a);var d=$(this);var g=a.anim=="carrousel"?d.parent().parent():d.parent();var c=d.children();var b=c.length;c.filter(":first").addClass("active");var f={start:function(){d.data("id",setInterval(f[a.anim],a.pause))},fade:function(){var h=c.filter(".active:first").index();c.eq(h).fadeOut(a.speed,function(){c.each(function(j){$(this).css("z-index",((b-j)+h)%b)}).removeClass("active").show();var i=++h%b;c.eq(i).addClass("active");e&&e.children().removeClass("active").eq(i).addClass("active")})},arrowsfade:function(h){g.find(a.nxt).click(function(){f.resetFade(1)});g.find(a.bck).click(function(){f.resetFade(-1)})},resetFade:function(i){clearInterval(d.data("id"));var h=c.filter(".active:first").index();c.eq(h).stop(true).css("opacity","1").removeClass("active");c.css("z-index",0).eq((h+i)%b).css("z-index",b+1).addClass("active");c.eq((h+(i>0?2:0))%b).css("z-index",b);f.start();e&&e.children().eq(h).removeClass("active").end().eq((h+i)%b).addClass("active")},navfade:function(){e.children().each(function(h){$(this).click(function(){clearInterval(d.data("id"));c.eq(c.filter(".active:first").index()).stop(true).css("opacity","1").removeClass("active");$(this).addClass("active").siblings(".active").removeClass("active");c.css("z-index",0).eq(h).css("z-index",b+1).addClass("active");c.eq((h+1)%b).css("z-index",b);f.start()})}).eq(0).addClass("active")},carrousel:function(k){var h=c.filter(".active:first").index();var i=!k||(k>0)?(h+1)%b:(h-1<0)?b-1:h-1;var j=i*c.eq(0).outerWidth(true)*-1;d.animate({left:j},1000,function(){e&&e.children().eq(h).removeClass("active").end().eq(i).addClass("active");c.eq(h).removeClass("active").end().eq(i).addClass("active")})},resetCarr:function(h){clearInterval(d.data("id"));f.carrousel(h);f.start()},arrowscarrousel:function(){g.find(a.nxt).click(function(){f.resetCarr(1)});g.find(a.bck).click(function(){f.resetCarr(-1)})},navcarrousel:function(){e.children().each(function(h){$(this).click(function(){clearInterval(d.data("id"));f.start()})}).eq(0).addClass("active")},addNav:function(){var k=$('<ul class="nav">');var h="";for(var j=0;j<b;j++){h+="<li></li>"}k.html(h).wrap('<div class="nav-wrapper">').parent().insertAfter(a.anim=="fade"?d:d.parent());return k}};a.auto&&f.start();var e=a.nav?(a.navSelector?g.find(a.navSelector):f.addNav()):false;e&&f["nav"+a.anim]();a.arrows&&f["arrows"+a.anim]()})};